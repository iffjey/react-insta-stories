!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={defaultInterval:4e3,width:360,height:640};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={stories:[]};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.default=o.default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function(){}})},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(0)),a=o(r(18));t.default=function(e){var t=e.story,r=e.globalHeader,o=e.children;return i.default.createElement(i.default.Fragment,null,o,t.header&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===n(t)?r?r(t.header):i.default.createElement(a.default,{heading:t.header.heading,subheading:t.header.subheading,profileImage:t.header.profileImage}):null))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),s=l(r(19));t.default=function(e){var t=e.story,r=e.action,o=e.customCollapsed,i=e.children,a=n(c.useState(!1),2),u=a[0],l=a[1],f=s.default;return c.default.createElement(c.default.Fragment,null,i,t.seeMore&&c.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:u?"unset":0,zIndex:9999,width:"100%",height:u?"100%":"auto"}},c.default.createElement(f,{action:r,toggleMore:function(e){r(e?"pause":"play"),l(e)},showContent:u,seeMoreContent:t.seeMore,customCollapsed:o||t.seeMoreCollapsed})))}},function(e,t,r){var n=r(15),o=r(16);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return u(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithSeeMore=t.WithHeader=void 0;var s=l(r(0)),f=c(r(8)),d=c(r(1)),p=c(r(2)),y=r(12),h=r(13),v=c(r(4)),m=c(r(5)),b=function(e){var t=e.renderers?e.renderers.concat(h.renderers):h.renderers,r={width:e.width,height:e.height,loader:e.loader,header:e.header,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,renderNavigationControl:e.renderNavigationControl,onNextStory:e.onNextStory,onPreviousStory:e.onPreviousStory,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd,controlsNavigation:e.controlsNavigation,keyboardNavigation:e.keyboardNavigation},n=o(s.useState({stories:g(e.stories,t)}),2),i=n[0],a=n[1];return s.useEffect((function(){a({stories:g(e.stories,t)})}),[e.stories,e.renderers]),s.default.createElement(d.default.Provider,{value:r},s.default.createElement(p.default.Provider,{value:i},s.default.createElement(f.default,null)))},g=function(e,t){return e.map((function(e){var r={};"string"==typeof e?(r.url=e,r.type="image"):"object"===n(e)&&(r=Object.assign(r,e));var o=y.getRenderer(r,t);return r.originalContent=r.content,r.content=o,r}))};b.defaultProps={width:360,height:640,defaultInterval:4e3},t.WithHeader=v.default,t.WithSeeMore=m.default,t.default=b},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),s=l(r(1)),f=l(r(2)),d=l(r(3)),p=l(r(9)),y=l(r(10));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=n(c.useState(!0),2),i=o[0],a=o[1],u=n(c.useState(!0),2),l=u[0],v=u[1],m=n(c.useState(0),2),b=m[0],g=m[1],_=c.useRef(),j=c.useContext(s.default),O=j.width,w=j.height,S=j.loop,x=j.currentIndex,M=j.isPaused,E=j.controlsNavigation,C=j.renderNavigationControl,P=j.keyboardNavigation,I=j.onPreviousStory,A=j.onNextStory,D=c.useContext(f.default).stories;c.useEffect((function(){"number"==typeof x&&(x>=0&&x<D.length?r(x):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",x))}),[x]),c.useEffect((function(){"boolean"==typeof M&&a(M)}),[M]),c.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof P&&P)return document.addEventListener("keydown",k),function(){document.removeEventListener("keydown",k)}}),[t,P]);var k=function(e){"ArrowLeft"===e.key?R():"ArrowRight"===e.key&&N()},T=function(e,t){a("pause"===e),v(!!t)},R=function(){var e=t>0,n=t-1;if(r(e?n:t),I){var o=e?[n,D[n]]:[null,null];I.apply(void 0,o)}},N=function(){S?z():U()},z=function(){var e=(t+1)%D.length;r(e),A&&A(e,D[e])},U=function(){var e=t<D.length-1,n=t+1;if(r(e?n:t),A){var o=e?[n,D[n]]:[null,null];A.apply(void 0,o)}},B=function(e){e.preventDefault(),_.current=setTimeout((function(){T("pause")}),200)},L=function(e,t){e.preventDefault(),_.current&&clearTimeout(_.current),i?T("play"):"next"===t?N():R()};return c.default.createElement("div",{style:Object.assign(Object.assign({},h.container),{width:O,height:w})},c.default.createElement(d.default.Provider,{value:{bufferAction:l,videoDuration:b,currentId:t,pause:i,next:N}},c.default.createElement(y.default,null)),c.default.createElement(p.default,{action:T,bufferAction:l,playState:i,story:D[t],getVideoDuration:function(e){g(1e3*e)}}),c.default.createElement("div",{style:h.overlay},c.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:B,onTouchEnd:function(e){return L(e,"previous")},onMouseDown:B,onMouseUp:function(e){return L(e,"previous")}}),c.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:B,onTouchEnd:function(e){return L(e,"next")},onMouseDown:B,onMouseUp:function(e){return L(e,"next")}})),E&&C&&c.default.createElement("div",{style:h.overlay},C({direction:"previous",onClick:R}),C({direction:"next",onClick:N})))};var h={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1)),c={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=function(e){var t,r,n=u.useContext(l.default),o=n.width,i=n.height,a=n.loader,s=n.header,f=n.storyStyles,d=function(t,r){switch(t){case"UPDATE_VIDEO_DURATION":return e.getVideoDuration(r.duration),{ack:"OK"}}};return u.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:o,height:i})},(t=e.story.content,r={width:o,height:i,loader:a,header:s,storyStyles:f},u.default.createElement(t,{action:e.action,isPaused:e.playState,story:e.story,config:r,messageHandler:d})))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),s=l(r(11)),f=l(r(3)),d=l(r(1)),p=l(r(2));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=c.useContext(f.default),i=o.currentId,a=o.next,u=o.videoDuration,l=o.pause,h=c.useContext(d.default),v=h.defaultInterval,m=h.onStoryEnd,b=h.onStoryStart,g=h.onAllStoriesEnd,_=c.useContext(p.default).stories,j=c.useRef(),O=c.useRef();console.log("render::pause",{pause:l}),c.useEffect((function(){return console.log("progress array::use effect"),l||(console.log("progress array::use effect::not pause start"),j.current=requestAnimationFrame((function e(){console.log("progress array::increment count"),0===O.current&&w(),r((function(e){var t=M(),r=Math.min(e+100/(t/1e3*60),100);return O.current=r,r})),O.current<100?(console.log("progress array::increment count::raw retry"),j.current=requestAnimationFrame(e)):(console.log("progress array::increment count::cancel"),cancelAnimationFrame(j.current),S(),i===_.length-1?x():r(0),a())}))),function(){console.log("progress array::use effect::teardown cancel"),cancelAnimationFrame(j.current)}}),[i,l]),c.useEffect((function(){r(0)}),[i,_]);var w=function(){b&&b(i,_[i])},S=function(){m&&m(i,_[i])},x=function(){g&&g(i,_)},M=function(){return"video"===_[i].type?u:"number"==typeof _[i].duration?_[i].duration:v};return c.default.createElement("div",{style:y.progressArr},_.map((function(e,r){return c.default.createElement(s.default,{key:r,count:t,active:(n=r,n===i?t>=100?2:1:n<i?2:0)});var n})))};var y={progressArr:{boxSizing:"border-box",position:"absolute",display:"grid",gridAutoFlow:"column",gridGap:"3px",width:"100%",padding:"9px",zIndex:99,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(3));t.default=function(e){var t=e.active,r=e.count,n=u.useContext(l.default),o=n.bufferAction,i=n.pause;return u.default.createElement("div",{style:Object.assign(Object.assign({},c.wrapper),{opacity:i&&!o?0:1})},u.default.createElement("div",{style:Object.assign(Object.assign({},c.progress),function(){switch(t){case 2:return{transform:"translateX(0)"};case 1:return{transform:"translateX(".concat(-100+r,"%)"),borderRadius:"3px"};case 0:default:return{transform:"translateX(-101%)"}}}())}))};var c={wrapper:{height:"2px",borderRadius:"3px",background:"#555",overflow:"hidden",transition:"opacity 400ms ease-in-out"},progress:{background:"#fff",height:"100%",willChange:"transform"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=void 0,t.getRenderer=function(e,t){var r=t.map((function(t){return Object.assign(Object.assign({},t),{testerResult:t.tester(e)})})).filter((function(e){return e.testerResult.condition}));return r.sort((function(e,t){return t.testerResult.priority-e.testerResult.priority})),r[0].renderer}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var o=n(r(14)),i=n(r(20)),a=n(r(21)),u=n(r(22));t.renderers=[o.default,i.default,u.default,a.default]},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),s=l(r(6)),f=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=(e.isPaused,e.config),i=n(c.useState(!1),2),a=i[0],u=i[1],l=o.width,y=o.height,h=o.loader,v=o.storyStyles,m=Object.assign(Object.assign({},p.storyContent),v||{});return c.createElement(f.default,{story:t,globalHeader:o.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",null,c.createElement("img",{style:m,src:t.url,onLoad:function(){u(!0),r("play")}}),!a&&c.createElement("div",{style:{width:l,height:y,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},h||c.createElement("div",{className:s.default.spinner})))))};var p={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.tester=function(e){return{condition:!(e.content||e.type&&"image"!==e.type),priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function u(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=r[l]||0,s="".concat(l," ").concat(c);r[l]=c+1;var f=u(s),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:s,updater:v(d,t),references:1}),n.push(s)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var s,f=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function d(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var y=null,h=0;function v(e,t){var r,n,o;if(t.singleton){var i=h++;r=y||(y=c(t)),n=d.bind(null,r,i,!1),o=d.bind(null,r,i,!0)}else r=c(t),n=p.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=u(r[n]);a[o].references--}for(var i=l(e,t),c=0;c<r.length;c++){var s=u(r[c]);0===a[s].references&&(a[s].updater(),a.splice(s,1))}r=i}}}},function(e,t,r){(t=r(17)(!1)).push([e.i,"._1CK7FHVwhiOnuCiZJwiPq1 {\n\twidth: 40px;\n\theight: 40px;\n\tmargin: 100px auto;\n\tbackground-color: #fff;\n\n\tborder-radius: 100%;\n\t-webkit-animation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n\tanimation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n}\n\n@-webkit-keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t\ttransform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\ttransform: scale(1);\n\t\topacity: 0;\n\t}\n}\n",""]),t.locals={spinner:"_1CK7FHVwhiOnuCiZJwiPq1","sk-scaleout":"_1hEQ2VzIkTiZ-9jZoLI3JC"},e.exports=t},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(l," */")),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[r].concat(i).concat([o]).join("\n")}var a,u,l;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);n&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=function(e){var t=e.profileImage,r=e.heading,n=e.subheading;return o.default.createElement("div",{style:i.main},t&&o.default.createElement("img",{style:i.img,src:t}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},r),o.default.createElement("p",{style:i.subheading},n)))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1));t.default=function(e){var t=e.seeMoreContent,r=e.customCollapsed,n=u.useContext(l.default).keyboardNavigation;u.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof n&&n)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[n]);var o=function(t){"ArrowUp"===t.key?(t.preventDefault(),e.toggleMore(!0)):"ArrowDown"!==t.key&&"Escape"!==t.key||(t.preventDefault(),e.toggleMore(!1))};return e.showContent?u.default.createElement("div",{style:c.seeMoreExpanded},u.default.createElement(t,{close:function(){return e.toggleMore(!1)}})):r?u.default.createElement(r,{action:e.action,toggleMore:e.toggleMore}):u.default.createElement("div",{style:c.seeMore,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleMore(!0)}},u.default.createElement("span",{style:c.seeMoreIcon},"âŒƒ"),u.default.createElement("span",{style:c.seeMoreText},"See more"))};var c={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),s=l(r(6)),f=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=e.isPaused,i=e.config,a=e.messageHandler,u=n(c.useState(!1),2),l=u[0],y=u[1],h=n(c.useState(!1),2),v=h[0],m=h[1],b=i.width,g=i.height,_=i.loader,j=i.storyStyles,O=Object.assign(Object.assign({},p.storyContent),j||{}),w=c.useRef(null);c.useEffect((function(){r("pause",!0)}),[]),c.useEffect((function(){w.current&&(o?w.current.pause():w.current.play().catch((function(){})))}),[o]);return c.createElement(f.default,{story:t,globalHeader:i.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",{style:p.videoContainer},c.createElement("video",{ref:w,style:O,src:t.url,controls:!1,onLoadedData:function(){a("UPDATE_VIDEO_DURATION",{duration:w.current.duration}),y(!0),w.current.play().then((function(){r("play")})).catch((function(){m(!0),w.current.play().finally((function(){r("play")}))}))},playsInline:!0,onWaiting:function(){r("pause",!0)},onPlaying:function(){r("play",!0)},muted:v}),!l&&c.createElement("div",{style:{width:b,height:g,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},_||c.createElement("div",{className:s.default.spinner})))))};var p={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};t.tester=function(e){return{condition:"video"===e.type,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){var t=e.story,r=e.action;return a.useEffect((function(){r("play")}),[t]),a.createElement("div",{style:u.storyContent},a.createElement("p",{style:u.text},"This story could not be loaded."))};var u={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};t.tester=function(){return{condition:!0,priority:1}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){a.useEffect((function(){e.action("play")}),[e.story]);var t=e.story.originalContent;return a.createElement(t,Object.assign({},e))},t.tester=function(e){return{condition:!!e.content,priority:2}},t.default={renderer:t.renderer,tester:t.tester}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9TdG9yaWVzLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9Qcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9zdHlsZXMuY3NzP2JiYmYiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL0NvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1N0b3J5LnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbXBvbmVudHMvUHJvZ3Jlc3NBcnJheS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3V0aWwvcmVuZGVyZXJzLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9pbmRleC50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9JbWFnZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NlZU1vcmUudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvcmVuZGVyZXJzL1ZpZGVvLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9EZWZhdWx0LnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9BdXRvUGxheUNvbnRlbnQudHN4Il0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImluaXRpYWxDb250ZXh0IiwiZGVmYXVsdEludGVydmFsIiwid2lkdGgiLCJoZWlnaHQiLCJHbG9iYWxDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInN0b3JpZXMiLCJTdG9yaWVzQ29udGV4dCIsImN1cnJlbnRJZCIsInZpZGVvRHVyYXRpb24iLCJidWZmZXJBY3Rpb24iLCJwYXVzZSIsIm5leHQiLCJzdG9yeSIsImdsb2JhbEhlYWRlciIsImNoaWxkcmVuIiwiaGVhZGVyIiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJ0b3AiLCJ6SW5kZXgiLCJoZWFkaW5nIiwic3ViaGVhZGluZyIsInByb2ZpbGVJbWFnZSIsImFjdGlvbiIsImN1c3RvbUNvbGxhcHNlZCIsInVzZVN0YXRlIiwic2hvd01vcmUiLCJzZXRTaG93TW9yZSIsIkNvbGxhcHNlZENvbXBvbmVudCIsInNlZU1vcmUiLCJtYXJnaW4iLCJib3R0b20iLCJ0b2dnbGVNb3JlIiwic2hvdyIsInNob3dDb250ZW50Iiwic2VlTW9yZUNvbnRlbnQiLCJzZWVNb3JlQ29sbGFwc2VkIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwiUmVhY3RJbnN0YVN0b3JpZXMiLCJwcm9wcyIsInJlbmRlcmVycyIsImNvbmNhdCIsImNvbnRleHQiLCJsb2FkZXIiLCJzdG9yeVN0eWxlcyIsImxvb3AiLCJpc1BhdXNlZCIsImN1cnJlbnRJbmRleCIsInJlbmRlck5hdmlnYXRpb25Db250cm9sIiwib25OZXh0U3RvcnkiLCJvblByZXZpb3VzU3RvcnkiLCJvblN0b3J5U3RhcnQiLCJvblN0b3J5RW5kIiwib25BbGxTdG9yaWVzRW5kIiwiY29udHJvbHNOYXZpZ2F0aW9uIiwia2V5Ym9hcmROYXZpZ2F0aW9uIiwiZ2VuZXJhdGVTdG9yaWVzIiwic2V0U3RvcmllcyIsInVzZUVmZmVjdCIsIlByb3ZpZGVyIiwibWFwIiwidXJsIiwidHlwZSIsImFzc2lnbiIsInJlbmRlcmVyIiwiZ2V0UmVuZGVyZXIiLCJvcmlnaW5hbENvbnRlbnQiLCJkZWZhdWx0UHJvcHMiLCJXaXRoSGVhZGVyIiwiV2l0aFNlZU1vcmUiLCJzZXRDdXJyZW50SWQiLCJzZXRQYXVzZSIsInNldEJ1ZmZlckFjdGlvbiIsInNldFZpZGVvRHVyYXRpb24iLCJtb3VzZWRvd25JZCIsInVzZVJlZiIsInVzZUNvbnRleHQiLCJsZW5ndGgiLCJjb25zb2xlIiwiZXJyb3IiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVLZXlEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2aW91cyIsInRvZ2dsZVN0YXRlIiwiaGFzUHJldmlvdXMiLCJwcmV2aW91c0lkIiwiYXJncyIsInVwZGF0ZU5leHRTdG9yeUlkRm9yTG9vcCIsInVwZGF0ZU5leHRTdG9yeUlkIiwibmV4dElkIiwiaGFzTmV4dCIsImRlYm91bmNlUGF1c2UiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnQiLCJzZXRUaW1lb3V0IiwibW91c2VVcCIsImNsZWFyVGltZW91dCIsInN0eWxlcyIsImNvbnRhaW5lciIsInBsYXlTdGF0ZSIsImdldFZpZGVvRHVyYXRpb24iLCJkdXJhdGlvbiIsIm92ZXJsYXkiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoRW5kIiwib25Nb3VzZURvd24iLCJvbk1vdXNlVXAiLCJkaXJlY3Rpb24iLCJvbkNsaWNrIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJiYWNrZ3JvdW5kIiwib3ZlcmZsb3ciLCJzdG9yeUNvbnRlbnQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIklubmVyQ29udGVudCIsImNvbmZpZyIsImdsb2JhbENvbnRleHQiLCJyZW5kZXJlck1lc3NhZ2VIYW5kbGVyIiwiZGF0YSIsImFjayIsIm1lc3NhZ2VIYW5kbGVyIiwiY291bnQiLCJzZXRDb3VudCIsImFuaW1hdGlvbkZyYW1lSWQiLCJjb3VudFJlZiIsImxvZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImluY3JlbWVudENvdW50Iiwic3RvcnlTdGFydENhbGxiYWNrIiwiaW50ZXJ2YWwiLCJnZXRDdXJyZW50SW50ZXJ2YWwiLCJuZXdDb3VudCIsIk1hdGgiLCJtaW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInN0b3J5RW5kQ2FsbGJhY2siLCJhbGxTdG9yaWVzRW5kQ2FsbGJhY2siLCJwcm9ncmVzc0FyciIsIl8iLCJhY3RpdmUiLCJpbmRleCIsImJveFNpemluZyIsImdyaWRBdXRvRmxvdyIsImdyaWRHYXAiLCJwYWRkaW5nIiwiZmlsdGVyIiwid3JhcHBlciIsIm9wYWNpdHkiLCJwcm9ncmVzcyIsInRyYW5zZm9ybSIsImJvcmRlclJhZGl1cyIsImdldFByb2dyZXNzU3R5bGUiLCJ0cmFuc2l0aW9uIiwid2lsbENoYW5nZSIsInByb2JhYmxlIiwidGVzdGVyUmVzdWx0IiwidGVzdGVyIiwiY29uZGl0aW9uIiwic29ydCIsImEiLCJiIiwicHJpb3JpdHkiLCJSZWFjdCIsImxvYWRlZCIsInNldExvYWRlZCIsImNvbXB1dGVkU3R5bGVzIiwic3JjIiwib25Mb2FkIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiY29sb3IiLCJjbGFzc05hbWUiLCJzcGlubmVyIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIm1haW4iLCJpbWciLCJtYXJnaW5SaWdodCIsImJvcmRlciIsInRleHQiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsIlNlZU1vcmVDb250ZW50IiwiQ3VzdG9tQ29sbGFwc2VkIiwic2VlTW9yZUV4cGFuZGVkIiwiY2xvc2UiLCJzdG9wUHJvcGFnYXRpb24iLCJzZWVNb3JlSWNvbiIsInNlZU1vcmVUZXh0IiwidGV4dEFsaWduIiwibGV0dGVyU3BhY2luZyIsInRleHRUcmFuc2Zvcm0iLCJzZWVNb3JlQ2xvc2UiLCJyaWdodCIsIm11dGVkIiwic2V0TXV0ZWQiLCJ2aWQiLCJwbGF5IiwidmlkZW9Db250YWluZXIiLCJyZWYiLCJjb250cm9scyIsIm9uTG9hZGVkRGF0YSIsInRoZW4iLCJwbGF5c0lubGluZSIsIm9uV2FpdGluZyIsIm9uUGxheWluZyIsIkNvbnRlbnQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxVQUFXLENBQUMsU0FBVUosR0FDSCxpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsRUFBUUcsUUFBUSxVQUVyQ0osRUFBYyxRQUFJQyxFQUFRRCxFQUFZLE9BUnhDLENBU0dPLE1BQU0sU0FBU0MsR0FDbEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbkIsRUFBU2lCLElBQ2xDRyxPQUFPQyxlQUFlckIsRUFBU2lCLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN4QixHQUNYLG9CQUFYeUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlckIsRUFBU3lCLE9BQU9DLFlBQWEsQ0FBRUMs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QUNQMkgsVUFBVyxPQUNYN0YsT0FBUSxRQUVac1AsS0FBTSxDQUNGVSxVQUFXLFNBQ1gxRyxNQUFPLFFBQ1BwTCxNQUFPLE1BQ1A4QixPQUFRLFNBSUgsRUFBQXdJLE9BQWlCLFdBQzFCLE1BQU8sQ0FDSEMsV0FBVyxFQUNYSSxTQUFVLElBSWxCLFVBQWUsQ0FDWHZHLFNBQUEsRUFBQUEsU0FDQWtHLE9BQUEsRUFBQUEsUyw0bkJDdkNKLGNBR2EsRUFBQWxHLFNBQXFCLFNBQUN6QixHQUMvQmlJLEVBQU05RyxXQUFVLFdBQ1puQixFQUFNcEIsT0FBTyxVQUNkLENBQUNvQixFQUFNaEMsUUFDVixJQUFNb1MsRUFBVXBRLEVBQU1oQyxNQUFNMkQsZ0JBQzVCLE9BQU8sZ0JBQUN5TyxFQUFPLGlCQUFLcFEsS0FHWCxFQUFBMkgsT0FBaUIsU0FBQzNKLEdBQzNCLE1BQU8sQ0FDSDRKLFlBQWE1SixFQUFNMkIsUUFDbkJxSSxTQUFVLElBSWxCLFVBQWUsQ0FDWHZHLFNBQUEsRUFBQUEsU0FDQWtHLE9BQUEsRUFBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIlN0b3JpZXNcIiwgW1wiUmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiU3Rvcmllc1wiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJTdG9yaWVzXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX187IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdsb2JhbEN0eCB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbENvbnRleHQgPSB7XG5cdGRlZmF1bHRJbnRlcnZhbDogNDAwMCxcblx0d2lkdGg6IDM2MCxcblx0aGVpZ2h0OiA2NDAsXG59O1xuXG5jb25zdCBHbG9iYWxDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxHbG9iYWxDdHg+KGluaXRpYWxDb250ZXh0KTtcblxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsQ29udGV4dDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuXHRTdG9yaWVzQ29udGV4dCBhcyBTdG9yaWVzQ29udGV4dEludGVyZmFjZSxcblx0U3RvcnksXG59IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbENvbnRleHQ6IHsgc3RvcmllczogU3RvcnlbXSB9ID0ge1xuXHRzdG9yaWVzOiBbXSxcbn07XG5cbmNvbnN0IFN0b3JpZXNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxTdG9yaWVzQ29udGV4dEludGVyZmFjZT4oXG5cdGluaXRpYWxDb250ZXh0XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBTdG9yaWVzQ29udGV4dDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb2dyZXNzQ29udGV4dCB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QuY3JlYXRlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KHtcbiAgICBjdXJyZW50SWQ6IDAsXG4gICAgdmlkZW9EdXJhdGlvbjogMCxcbiAgICBidWZmZXJBY3Rpb246IGZhbHNlLFxuICAgIHBhdXNlOiBmYWxzZSxcbiAgICBuZXh0OiAoKSA9PiB7IH1cbn0pIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0b3J5IH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLy4uLy4uL2NvbXBvbmVudHMvSGVhZGVyXCI7XG5cbmNvbnN0IHdpdGhIZWFkZXI6IFJlYWN0LkZDPHsgc3Rvcnk6IFN0b3J5LCBnbG9iYWxIZWFkZXI6IEZ1bmN0aW9uIH0+ID0gKHsgc3RvcnksIGdsb2JhbEhlYWRlciwgY2hpbGRyZW4gfSkgPT4ge1xuICAgIHJldHVybiA8PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIHtzdG9yeS5oZWFkZXIgJiYgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBsZWZ0OiAxMiwgdG9wOiAyMCwgekluZGV4OiAxOSB9fT5cbiAgICAgICAgICAgICAgICB7dHlwZW9mIHN0b3J5ID09PSBcIm9iamVjdFwiID8gKFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxIZWFkZXIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxIZWFkZXIoc3RvcnkuaGVhZGVyKVxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz17c3RvcnkuaGVhZGVyLmhlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmhlYWRpbmc9e3N0b3J5LmhlYWRlci5zdWJoZWFkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlSW1hZ2U9e3N0b3J5LmhlYWRlci5wcm9maWxlSW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgIDwvPlxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoSGVhZGVyOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnRUeXBlLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFjdGlvbiwgU2VlTW9yZVByb3BzLCBTdG9yeSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IFNlZU1vcmUgZnJvbSBcIi4vLi4vLi4vY29tcG9uZW50cy9TZWVNb3JlXCI7XG5cbmNvbnN0IHdpdGhTZWVNb3JlOiBSZWFjdC5GQzx7XG4gICAgc3Rvcnk6IFN0b3J5LFxuICAgIGFjdGlvbjogQWN0aW9uLFxuICAgIGN1c3RvbUNvbGxhcHNlZD86IFNlZU1vcmVQcm9wc1tcImN1c3RvbUNvbGxhcHNlZFwiXVxufT4gPSAoeyBzdG9yeSwgYWN0aW9uLCBjdXN0b21Db2xsYXBzZWQsIGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCBbc2hvd01vcmUsIHNldFNob3dNb3JlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB0b2dnbGVNb3JlID0gKHNob3cpID0+IHtcbiAgICAgICAgYWN0aW9uKHNob3cgPyAncGF1c2UnIDogJ3BsYXknKTtcbiAgICAgICAgc2V0U2hvd01vcmUoc2hvdyk7XG4gICAgfVxuICAgIGNvbnN0IENvbGxhcHNlZENvbXBvbmVudCA9IFNlZU1vcmU7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAge3N0b3J5LnNlZU1vcmUgJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogc2hvd01vcmUgPyAndW5zZXQnIDogMCxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2hvd01vcmUgPyAnMTAwJScgOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZWRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uPXthY3Rpb259XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZU1vcmU9e3RvZ2dsZU1vcmV9XG4gICAgICAgICAgICAgICAgICAgIHNob3dDb250ZW50PXtzaG93TW9yZX1cbiAgICAgICAgICAgICAgICAgICAgc2VlTW9yZUNvbnRlbnQ9e3N0b3J5LnNlZU1vcmV9XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbGxhcHNlZD17Y3VzdG9tQ29sbGFwc2VkIHx8IHN0b3J5LnNlZU1vcmVDb2xsYXBzZWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgIDwvPlxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoU2VlTW9yZTsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9AdGVhbXN1cGVyY2VsbC90eXBpbmdzLWZvci1jc3MtbW9kdWxlcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTUtMiEuL3N0eWxlcy5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBSZWFjdEluc3RhU3Rvcmllc1Byb3BzLCBHbG9iYWxDdHgsIFN0b3J5LCBUZXN0ZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbXBvbmVudHMvQ29udGFpbmVyJ1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSAnLi9jb250ZXh0L0dsb2JhbCdcbmltcG9ydCBTdG9yaWVzQ29udGV4dCBmcm9tICcuL2NvbnRleHQvU3Rvcmllcyc7XG5pbXBvcnQgeyBnZXRSZW5kZXJlciB9IGZyb20gJy4vdXRpbC9yZW5kZXJlcnMnXG5pbXBvcnQgeyByZW5kZXJlcnMgYXMgZGVmYXVsdFJlbmRlcmVycyB9IGZyb20gJy4vcmVuZGVyZXJzL2luZGV4JztcbmltcG9ydCB3aXRoSGVhZGVyIGZyb20gJy4vcmVuZGVyZXJzL3dyYXBwZXJzL3dpdGhIZWFkZXInXG5pbXBvcnQgd2l0aFNlZU1vcmUgZnJvbSAnLi9yZW5kZXJlcnMvd3JhcHBlcnMvd2l0aFNlZU1vcmUnXG5cbmNvbnN0IFJlYWN0SW5zdGFTdG9yaWVzID0gZnVuY3Rpb24gKHByb3BzOiBSZWFjdEluc3RhU3Rvcmllc1Byb3BzKSB7XG4gICAgbGV0IHJlbmRlcmVycyA9IHByb3BzLnJlbmRlcmVycyA/IHByb3BzLnJlbmRlcmVycy5jb25jYXQoZGVmYXVsdFJlbmRlcmVycykgOiBkZWZhdWx0UmVuZGVyZXJzO1xuICAgIGxldCBjb250ZXh0OiBHbG9iYWxDdHggPSB7XG4gICAgICAgIHdpZHRoOiBwcm9wcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBwcm9wcy5oZWlnaHQsXG4gICAgICAgIGxvYWRlcjogcHJvcHMubG9hZGVyLFxuICAgICAgICBoZWFkZXI6IHByb3BzLmhlYWRlcixcbiAgICAgICAgc3RvcnlTdHlsZXM6IHByb3BzLnN0b3J5U3R5bGVzLFxuICAgICAgICBsb29wOiBwcm9wcy5sb29wLFxuICAgICAgICBkZWZhdWx0SW50ZXJ2YWw6IHByb3BzLmRlZmF1bHRJbnRlcnZhbCxcbiAgICAgICAgaXNQYXVzZWQ6IHByb3BzLmlzUGF1c2VkLFxuICAgICAgICBjdXJyZW50SW5kZXg6IHByb3BzLmN1cnJlbnRJbmRleCxcbiAgICAgICAgcmVuZGVyTmF2aWdhdGlvbkNvbnRyb2w6IHByb3BzLnJlbmRlck5hdmlnYXRpb25Db250cm9sLFxuICAgICAgICBvbk5leHRTdG9yeTogcHJvcHMub25OZXh0U3RvcnksXG4gICAgICAgIG9uUHJldmlvdXNTdG9yeTogcHJvcHMub25QcmV2aW91c1N0b3J5LFxuICAgICAgICBvblN0b3J5U3RhcnQ6IHByb3BzLm9uU3RvcnlTdGFydCxcbiAgICAgICAgb25TdG9yeUVuZDogcHJvcHMub25TdG9yeUVuZCxcbiAgICAgICAgb25BbGxTdG9yaWVzRW5kOiBwcm9wcy5vbkFsbFN0b3JpZXNFbmQsXG4gICAgICAgIGNvbnRyb2xzTmF2aWdhdGlvbjogcHJvcHMuY29udHJvbHNOYXZpZ2F0aW9uLFxuICAgICAgICBrZXlib2FyZE5hdmlnYXRpb246IHByb3BzLmtleWJvYXJkTmF2aWdhdGlvblxuICAgIH1cbiAgICBjb25zdCBbc3Rvcmllcywgc2V0U3Rvcmllc10gPSB1c2VTdGF0ZTx7IHN0b3JpZXM6IFN0b3J5W10gfT4oeyBzdG9yaWVzOiBnZW5lcmF0ZVN0b3JpZXMocHJvcHMuc3RvcmllcywgcmVuZGVyZXJzKSB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRTdG9yaWVzKHsgc3RvcmllczogZ2VuZXJhdGVTdG9yaWVzKHByb3BzLnN0b3JpZXMsIHJlbmRlcmVycykgfSk7XG4gICAgfSwgW3Byb3BzLnN0b3JpZXMsIHByb3BzLnJlbmRlcmVyc10pO1xuXG4gICAgcmV0dXJuIDxHbG9iYWxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgICAgPFN0b3JpZXNDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtzdG9yaWVzfT5cbiAgICAgICAgICAgIDxDb250YWluZXIgLz5cbiAgICAgICAgPC9TdG9yaWVzQ29udGV4dC5Qcm92aWRlcj5cbiAgICA8L0dsb2JhbENvbnRleHQuUHJvdmlkZXI+XG59XG5cbmNvbnN0IGdlbmVyYXRlU3RvcmllcyA9IChzdG9yaWVzOiBTdG9yeVtdLCByZW5kZXJlcnM6IHsgcmVuZGVyZXI6IFJlbmRlcmVyLCB0ZXN0ZXI6IFRlc3RlciB9W10pID0+IHtcbiAgICByZXR1cm4gc3Rvcmllcy5tYXAocyA9PiB7XG4gICAgICAgIGxldCBzdG9yeTogU3RvcnkgPSB7fTtcblxuICAgICAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdG9yeS51cmwgPSBzO1xuICAgICAgICAgICAgc3RvcnkudHlwZSA9ICdpbWFnZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBzdG9yeSA9IE9iamVjdC5hc3NpZ24oc3RvcnksIHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbmRlcmVyID0gZ2V0UmVuZGVyZXIoc3RvcnksIHJlbmRlcmVycyk7XG4gICAgICAgIHN0b3J5Lm9yaWdpbmFsQ29udGVudCA9IHN0b3J5LmNvbnRlbnQ7XG4gICAgICAgIHN0b3J5LmNvbnRlbnQgPSByZW5kZXJlcjtcbiAgICAgICAgcmV0dXJuIHN0b3J5XG4gICAgfSlcbn07XG5cblJlYWN0SW5zdGFTdG9yaWVzLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB3aWR0aDogMzYwLFxuICAgIGhlaWdodDogNjQwLFxuICAgIGRlZmF1bHRJbnRlcnZhbDogNDAwMFxufVxuXG5leHBvcnQgY29uc3QgV2l0aEhlYWRlciA9IHdpdGhIZWFkZXI7XG5leHBvcnQgY29uc3QgV2l0aFNlZU1vcmUgPSB3aXRoU2VlTW9yZTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RJbnN0YVN0b3JpZXMiLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xuaW1wb3J0IFN0b3JpZXNDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9TdG9yaWVzJ1xuaW1wb3J0IFByb2dyZXNzQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvUHJvZ3Jlc3MnXG5pbXBvcnQgU3RvcnkgZnJvbSAnLi9TdG9yeSdcbmltcG9ydCBQcm9ncmVzc0FycmF5IGZyb20gJy4vUHJvZ3Jlc3NBcnJheSdcbmltcG9ydCB7IEdsb2JhbEN0eCwgU3Rvcmllc0NvbnRleHQgYXMgU3Rvcmllc0NvbnRleHRJbnRlcmZhY2UgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBbY3VycmVudElkLCBzZXRDdXJyZW50SWRdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICAgIGNvbnN0IFtwYXVzZSwgc2V0UGF1c2VdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbYnVmZmVyQWN0aW9uLCBzZXRCdWZmZXJBY3Rpb25dID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbdmlkZW9EdXJhdGlvbiwgc2V0VmlkZW9EdXJhdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG5cbiAgICBsZXQgbW91c2Vkb3duSWQgPSB1c2VSZWY8YW55PigpO1xuXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsb29wLCBjdXJyZW50SW5kZXgsIGlzUGF1c2VkLCBjb250cm9sc05hdmlnYXRpb24sIHJlbmRlck5hdmlnYXRpb25Db250cm9sLCBrZXlib2FyZE5hdmlnYXRpb24sIG9uUHJldmlvdXNTdG9yeSwgb25OZXh0U3RvcnkgfSA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4PihHbG9iYWxDb250ZXh0KTtcbiAgICBjb25zdCB7IHN0b3JpZXMgfSA9IHVzZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFN0b3JpZXNDb250ZXh0KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudEluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+PSAwICYmIGN1cnJlbnRJbmRleCA8IHN0b3JpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudElkKGN1cnJlbnRJbmRleClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW5kZXggb3V0IG9mIGJvdW5kcy4gQ3VycmVudCBpbmRleCB3YXMgc2V0IHRvIHZhbHVlIG1vcmUgdGhhbiB0aGUgbGVuZ3RoIG9mIHN0b3JpZXMgYXJyYXkuJywgY3VycmVudEluZGV4KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRJbmRleF0pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGlzUGF1c2VkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHNldFBhdXNlKGlzUGF1c2VkKVxuICAgICAgICB9XG4gICAgfSwgW2lzUGF1c2VkXSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQ2xpZW50ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XG4gICAgICAgIGlmIChpc0NsaWVudCAmJiAodHlwZW9mIGtleWJvYXJkTmF2aWdhdGlvbiA9PT0gJ2Jvb2xlYW4nICYmIGtleWJvYXJkTmF2aWdhdGlvbikpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SWQsIGtleWJvYXJkTmF2aWdhdGlvbl0pXG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgICAgICAgcHJldmlvdXMoKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dSaWdodCcpIHtcbiAgICAgICAgICAgIG5leHQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdG9nZ2xlU3RhdGUgPSAoYWN0aW9uOiBzdHJpbmcsIGJ1ZmZlckFjdGlvbj86IGJvb2xlYW4pID0+IHtcbiAgICAgICAgc2V0UGF1c2UoYWN0aW9uID09PSAncGF1c2UnKVxuICAgICAgICBzZXRCdWZmZXJBY3Rpb24oISFidWZmZXJBY3Rpb24pXG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc1ByZXZpb3VzID0gY3VycmVudElkID4gMDtcbiAgICAgICAgY29uc3QgcHJldmlvdXNJZCA9IGN1cnJlbnRJZCAtIDE7XG5cbiAgICAgICAgc2V0Q3VycmVudElkKGhhc1ByZXZpb3VzID8gcHJldmlvdXNJZCA6IGN1cnJlbnRJZClcblxuICAgICAgICBpZiAob25QcmV2aW91c1N0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gaGFzUHJldmlvdXMgPyBbcHJldmlvdXNJZCwgc3Rvcmllc1twcmV2aW91c0lkXV0gOiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICBvblByZXZpb3VzU3RvcnkoLi4uYXJncylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG5leHQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICB1cGRhdGVOZXh0U3RvcnlJZEZvckxvb3AoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlTmV4dFN0b3J5SWQoKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZU5leHRTdG9yeUlkRm9yTG9vcCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dElkID0gKGN1cnJlbnRJZCArIDEpICUgc3Rvcmllcy5sZW5ndGg7XG5cbiAgICAgICAgc2V0Q3VycmVudElkKG5leHRJZClcblxuICAgICAgICBpZiAob25OZXh0U3RvcnkpIHtcbiAgICAgICAgICAgIG9uTmV4dFN0b3J5KG5leHRJZCwgc3Rvcmllc1tuZXh0SWRdKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlTmV4dFN0b3J5SWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc05leHQgPSBjdXJyZW50SWQgPCBzdG9yaWVzLmxlbmd0aCAtMVxuICAgICAgICBjb25zdCBuZXh0SWQgPSBjdXJyZW50SWQgKyAxO1xuXG4gICAgICAgIHNldEN1cnJlbnRJZChoYXNOZXh0ID8gbmV4dElkIDogY3VycmVudElkKVxuXG4gICAgICAgIGlmIChvbk5leHRTdG9yeSkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IGhhc05leHQgPyBbbmV4dElkLCBzdG9yaWVzW25leHRJZF1dIDogW251bGwsIG51bGxdO1xuICAgICAgICAgICAgb25OZXh0U3RvcnkoLi4uYXJncylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRlYm91bmNlUGF1c2UgPSAoZTogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZVN0YXRlKCdwYXVzZScpXG4gICAgICAgIH0sIDIwMClcbiAgICB9XG5cbiAgICBjb25zdCBtb3VzZVVwID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50LCB0eXBlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgJiYgY2xlYXJUaW1lb3V0KG1vdXNlZG93bklkLmN1cnJlbnQpXG4gICAgICAgIGlmIChwYXVzZSkge1xuICAgICAgICAgICAgdG9nZ2xlU3RhdGUoJ3BsYXknKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9PT0gJ25leHQnID8gbmV4dCgpIDogcHJldmlvdXMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VmlkZW9EdXJhdGlvbiA9IChkdXJhdGlvbjogbnVtYmVyKSA9PiB7XG4gICAgICAgIHNldFZpZGVvRHVyYXRpb24oZHVyYXRpb24gKiAxMDAwKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLmNvbnRhaW5lciwgLi4ueyB3aWR0aCwgaGVpZ2h0IH0gfX0+XG4gICAgICAgICAgICA8UHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XG4gICAgICAgICAgICAgICAgYnVmZmVyQWN0aW9uOiBidWZmZXJBY3Rpb24sXG4gICAgICAgICAgICAgICAgdmlkZW9EdXJhdGlvbjogdmlkZW9EdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjdXJyZW50SWQsXG4gICAgICAgICAgICAgICAgcGF1c2UsXG4gICAgICAgICAgICAgICAgbmV4dFxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPFByb2dyZXNzQXJyYXkgLz5cbiAgICAgICAgICAgIDwvUHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgPFN0b3J5XG4gICAgICAgICAgICAgICAgYWN0aW9uPXt0b2dnbGVTdGF0ZX1cbiAgICAgICAgICAgICAgICBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn1cbiAgICAgICAgICAgICAgICBwbGF5U3RhdGU9e3BhdXNlfVxuICAgICAgICAgICAgICAgIHN0b3J5PXtzdG9yaWVzW2N1cnJlbnRJZF19XG4gICAgICAgICAgICAgICAgZ2V0VmlkZW9EdXJhdGlvbj17Z2V0VmlkZW9EdXJhdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzUwJScsIHpJbmRleDogOTk5IH19IG9uVG91Y2hTdGFydD17ZGVib3VuY2VQYXVzZX0gb25Ub3VjaEVuZD17ZSA9PiBtb3VzZVVwKGUsICdwcmV2aW91cycpfSBvbk1vdXNlRG93bj17ZGVib3VuY2VQYXVzZX0gb25Nb3VzZVVwPXsoZSkgPT4gbW91c2VVcChlLCAncHJldmlvdXMnKX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnNTAlJywgekluZGV4OiA5OTkgfX0gb25Ub3VjaFN0YXJ0PXtkZWJvdW5jZVBhdXNlfSBvblRvdWNoRW5kPXtlID0+IG1vdXNlVXAoZSwgJ25leHQnKX0gb25Nb3VzZURvd249e2RlYm91bmNlUGF1c2V9IG9uTW91c2VVcD17KGUpID0+IG1vdXNlVXAoZSwgJ25leHQnKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyhjb250cm9sc05hdmlnYXRpb24gJiYgcmVuZGVyTmF2aWdhdGlvbkNvbnRyb2wpICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XG4gICAgICAgICAgICAgICAgICAgIHtyZW5kZXJOYXZpZ2F0aW9uQ29udHJvbCh7ZGlyZWN0aW9uOiAncHJldmlvdXMnLCBvbkNsaWNrOiBwcmV2aW91c30pfVxuICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTmF2aWdhdGlvbkNvbnRyb2woe2RpcmVjdGlvbjogJ25leHQnLCBvbkNsaWNrOiBuZXh0fSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgYmFja2dyb3VuZDogJyMxMTEnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgb3ZlcmxheToge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICAgIHdpZHRoOiAnaW5oZXJpdCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3RvcnlQcm9wcywgR2xvYmFsQ3R4IH0gZnJvbSBcIi4vLi4vaW50ZXJmYWNlc1wiO1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSBcIi4vLi4vY29udGV4dC9HbG9iYWxcIjtcblxuY29uc3QgU3RvcnkgPSAocHJvcHM6IFN0b3J5UHJvcHMpID0+IHtcblx0Y29uc3QgZ2xvYmFsQ29udGV4dCA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4Pihcblx0XHRHbG9iYWxDb250ZXh0XG5cdCk7XG5cblx0Y29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIGhlYWRlciwgc3RvcnlTdHlsZXMgfSA9IGdsb2JhbENvbnRleHQ7XG5cblx0Y29uc3QgcmVuZGVyZXJNZXNzYWdlSGFuZGxlciA9ICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnVVBEQVRFX1ZJREVPX0RVUkFUSU9OJzpcblx0XHRcdFx0cHJvcHMuZ2V0VmlkZW9EdXJhdGlvbihkYXRhLmR1cmF0aW9uKTtcblx0XHRcdFx0cmV0dXJuIHsgYWNrOiAnT0snIGFzICdPSycgfVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGdldFN0b3J5Q29udGVudCA9ICgpID0+IHtcblx0XHRsZXQgSW5uZXJDb250ZW50ID0gcHJvcHMuc3RvcnkuY29udGVudDtcblx0XHRsZXQgY29uZmlnID0geyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIGhlYWRlciwgc3RvcnlTdHlsZXMgfTtcblx0XHRyZXR1cm4gPElubmVyQ29udGVudFxuXHRcdFx0YWN0aW9uPXtwcm9wcy5hY3Rpb259XG5cdFx0XHRpc1BhdXNlZD17cHJvcHMucGxheVN0YXRlfVxuXHRcdFx0c3Rvcnk9e3Byb3BzLnN0b3J5fVxuXHRcdFx0Y29uZmlnPXtjb25maWd9XG5cdFx0XHRtZXNzYWdlSGFuZGxlcj17cmVuZGVyZXJNZXNzYWdlSGFuZGxlcn1cblx0XHQvPlxuXHR9O1xuXG5cdHJldHVybiAoXG5cdFx0PGRpdiBzdHlsZT17eyAuLi5zdHlsZXMuc3RvcnksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfX0+XG5cdFx0XHR7Z2V0U3RvcnlDb250ZW50KCl9XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuXG5jb25zdCBzdHlsZXMgPSB7XG5cdHN0b3J5OiB7XG5cdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9LFxuXHRzdG9yeUNvbnRlbnQ6IHtcblx0XHR3aWR0aDogXCJhdXRvXCIsXG5cdFx0bWF4V2lkdGg6IFwiMTAwJVwiLFxuXHRcdG1heEhlaWdodDogXCIxMDAlXCIsXG5cdFx0bWFyZ2luOiBcImF1dG9cIlxuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdG9yeTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb2dyZXNzIGZyb20gJy4vUHJvZ3Jlc3MnXG5pbXBvcnQgeyBQcm9ncmVzc0NvbnRleHQsIEdsb2JhbEN0eCwgU3Rvcmllc0NvbnRleHQgYXMgU3Rvcmllc0NvbnRleHRJbnRlcmZhY2UgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG5pbXBvcnQgUHJvZ3Jlc3NDdHggZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L0dsb2JhbCdcbmltcG9ydCBTdG9yaWVzQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvU3RvcmllcydcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAgIGNvbnN0IFtjb3VudCwgc2V0Q291bnRdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICAgIGNvbnN0IHsgY3VycmVudElkLCBuZXh0LCB2aWRlb0R1cmF0aW9uLCBwYXVzZSB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxuICAgIGNvbnN0IHsgZGVmYXVsdEludGVydmFsLCBvblN0b3J5RW5kLCBvblN0b3J5U3RhcnQsIG9uQWxsU3Rvcmllc0VuZCB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpO1xuICAgIGNvbnN0IHsgc3RvcmllcyB9ID0gdXNlQ29udGV4dDxTdG9yaWVzQ29udGV4dEludGVyZmFjZT4oU3Rvcmllc0NvbnRleHQpO1xuXG4gICAgY29uc3QgYW5pbWF0aW9uRnJhbWVJZCA9IHVzZVJlZjxudW1iZXI+KClcbiAgICBjb25zdCBjb3VudFJlZiA9IHVzZVJlZjxudW1iZXI+KClcblxuICAgIGNvbnNvbGUubG9nKCdyZW5kZXI6OnBhdXNlJywgeyBwYXVzZSB9KVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Byb2dyZXNzIGFycmF5Ojp1c2UgZWZmZWN0JylcbiAgICAgICAgZnVuY3Rpb24gaW5jcmVtZW50Q291bnQoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3MgYXJyYXk6OmluY3JlbWVudCBjb3VudCcpXG4gICAgICAgICAgICBpZiAoY291bnRSZWYuY3VycmVudCA9PT0gMCkgc3RvcnlTdGFydENhbGxiYWNrKClcblxuXG4gICAgICAgICAgICBzZXRDb3VudCgoY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gZ2V0Q3VycmVudEludGVydmFsKClcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3VudCA9IE1hdGgubWluKGNvdW50ICsgKDEwMCAvICgoaW50ZXJ2YWwgLyAxMDAwKSAqIDYwKSksIDEwMCk7XG4gICAgICAgICAgICAgICAgY291bnRSZWYuY3VycmVudCA9IG5ld0NvdW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0NvdW50XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZiAoY291bnRSZWYuY3VycmVudCA8IDEwMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9ncmVzcyBhcnJheTo6aW5jcmVtZW50IGNvdW50OjpyYXcgcmV0cnknKVxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShpbmNyZW1lbnRDb3VudClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb2dyZXNzIGFycmF5OjppbmNyZW1lbnQgY291bnQ6OmNhbmNlbCcpXG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50KVxuXG4gICAgICAgICAgICAgICAgc3RvcnlFbmRDYWxsYmFjaygpXG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudElkID09PSBzdG9yaWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsU3Rvcmllc0VuZENhbGxiYWNrKClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb3VudCgwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBuZXh0KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhdXNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3MgYXJyYXk6OnVzZSBlZmZlY3Q6Om5vdCBwYXVzZSBzdGFydCcpXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5jcmVtZW50Q291bnQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9ncmVzcyBhcnJheTo6dXNlIGVmZmVjdDo6dGVhcmRvd24gY2FuY2VsJylcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudClcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SWQsIHBhdXNlXSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldENvdW50KDApXG4gICAgfSwgW2N1cnJlbnRJZCwgc3Rvcmllc10pXG5cblxuICAgIGNvbnN0IHN0b3J5U3RhcnRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgb25TdG9yeVN0YXJ0ICYmIG9uU3RvcnlTdGFydChjdXJyZW50SWQsIHN0b3JpZXNbY3VycmVudElkXSlcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yeUVuZENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBvblN0b3J5RW5kICYmIG9uU3RvcnlFbmQoY3VycmVudElkLCBzdG9yaWVzW2N1cnJlbnRJZF0pXG4gICAgfVxuXG4gICAgY29uc3QgYWxsU3Rvcmllc0VuZENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBvbkFsbFN0b3JpZXNFbmQgJiYgb25BbGxTdG9yaWVzRW5kKGN1cnJlbnRJZCwgc3RvcmllcylcbiAgICB9XG5cbiAgICBjb25zdCBnZXRDdXJyZW50SW50ZXJ2YWwgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdG9yaWVzW2N1cnJlbnRJZF0udHlwZSA9PT0gJ3ZpZGVvJykgcmV0dXJuIHZpZGVvRHVyYXRpb25cbiAgICAgICAgaWYgKHR5cGVvZiBzdG9yaWVzW2N1cnJlbnRJZF0uZHVyYXRpb24gPT09ICdudW1iZXInKSByZXR1cm4gc3Rvcmllc1tjdXJyZW50SWRdLmR1cmF0aW9uXG4gICAgICAgIHJldHVybiBkZWZhdWx0SW50ZXJ2YWxcbiAgICB9XG5cbiAgICBjb25zdCBnZXRBY3RpdmVTdGF0dXMgPSAoaW5kZXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gY3VycmVudElkKSB7XG4gICAgICAgICAgICByZXR1cm4gY291bnQgPj0gMTAwID8gMiA6IDEgXG4gICAgICAgIH07XG5cbiAgICAgICAgIHJldHVybiBpbmRleCA8IGN1cnJlbnRJZCA/IDIgOiAwO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5wcm9ncmVzc0Fycn0+XG4gICAgICAgICAgICB7c3Rvcmllcy5tYXAoKF8sIGkpID0+XG4gICAgICAgICAgICAgICAgPFByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICAgICAgY291bnQ9e2NvdW50fVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU9e2dldEFjdGl2ZVN0YXR1cyhpKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gICAgcHJvZ3Jlc3NBcnI6IHtcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgIGdyaWRBdXRvRmxvdzogJ2NvbHVtbicsXG4gICAgICAgIGdyaWRHYXA6ICczcHgnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBwYWRkaW5nOiAnOXB4JyxcbiAgICAgICAgekluZGV4OiA5OSxcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAxcHggOHB4ICMyMjIpJ1xuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvZ3Jlc3NQcm9wcywgUHJvZ3Jlc3NDb250ZXh0IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IFByb2dyZXNzQ3R4IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcblxuZXhwb3J0IGRlZmF1bHQgKHByb3BzOiBQcm9ncmVzc1Byb3BzKSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmUsIGNvdW50IH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGJ1ZmZlckFjdGlvbiwgcGF1c2UgfSA9IHVzZUNvbnRleHQ8UHJvZ3Jlc3NDb250ZXh0PihQcm9ncmVzc0N0eClcblxuICAgIGNvbnN0IGdldFdyYXBwZXJTdHlsZSA9ICgpID0+ICh7XG4gICAgICAgIG9wYWNpdHk6IHBhdXNlICYmICFidWZmZXJBY3Rpb24gPyAwIDogMVxuICAgIH0pXG5cbiAgICBjb25zdCBnZXRQcm9ncmVzc1N0eWxlID0gKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGFjdGl2ZSkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoMClgIH1cbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7LTEwMCArIGNvdW50fSUpYCwgYm9yZGVyUmFkaXVzOiAnM3B4JyB9XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgtMTAxJSlgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgtMTAxJSlgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLndyYXBwZXIsIC4uLmdldFdyYXBwZXJTdHlsZSgpIH19PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5zdHlsZXMucHJvZ3Jlc3MsIC4uLmdldFByb2dyZXNzU3R5bGUoKSB9fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlczogYW55ID0ge1xuICAgIHdyYXBwZXI6IHtcbiAgICAgICAgaGVpZ2h0OiAnMnB4JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnM3B4JyxcbiAgICAgICAgYmFja2dyb3VuZDogJyM1NTUnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDQwMG1zIGVhc2UtaW4tb3V0J1xuICAgIH0sXG4gICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybSdcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIsIFN0b3J5LCBUZXN0ZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UmVuZGVyZXIgPSAoc3Rvcnk6IFN0b3J5LCByZW5kZXJlcnM6IHsgcmVuZGVyZXI6IFJlbmRlcmVyLCB0ZXN0ZXI6IFRlc3RlciB9W10pOiBSZW5kZXJlciA9PiB7XG4gICAgbGV0IHByb2JhYmxlID0gcmVuZGVyZXJzLm1hcChyID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnIsXG4gICAgICAgICAgICB0ZXN0ZXJSZXN1bHQ6IHIudGVzdGVyKHN0b3J5KVxuICAgICAgICB9XG4gICAgfSkuZmlsdGVyKHIgPT4gci50ZXN0ZXJSZXN1bHQuY29uZGl0aW9uKTtcbiAgICBwcm9iYWJsZS5zb3J0KChhLCBiKSA9PiBiLnRlc3RlclJlc3VsdC5wcmlvcml0eSAtIGEudGVzdGVyUmVzdWx0LnByaW9yaXR5KTtcbiAgICByZXR1cm4gcHJvYmFibGVbMF0ucmVuZGVyZXI7XG59IiwiaW1wb3J0IGltYWdlIGZyb20gJy4vSW1hZ2UnO1xuaW1wb3J0IHZpZGVvIGZyb20gJy4vVmlkZW8nO1xuaW1wb3J0IGRlZmF1bHRSZW5kZXJlciBmcm9tICcuL0RlZmF1bHQnO1xuaW1wb3J0IGF1dG9wbGF5Q29udGVudCBmcm9tICcuL0F1dG9QbGF5Q29udGVudCc7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJlcnMgPSBbaW1hZ2UsIHZpZGVvLCBhdXRvcGxheUNvbnRlbnQsIGRlZmF1bHRSZW5kZXJlcl07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcbmltcG9ydCBnbG9iYWxTdHlsZSBmcm9tICcuLy4uL3N0eWxlcy5jc3MnXG5pbXBvcnQgV2l0aEhlYWRlciBmcm9tICcuL3dyYXBwZXJzL3dpdGhIZWFkZXInO1xuaW1wb3J0IFdpdGhTZWVNb3JlIGZyb20gJy4vd3JhcHBlcnMvd2l0aFNlZU1vcmUnO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHsgc3RvcnksIGFjdGlvbiwgaXNQYXVzZWQsIGNvbmZpZyB9KSA9PiB7XG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgc3RvcnlTdHlsZXMgfSA9IGNvbmZpZztcbiAgICBsZXQgY29tcHV0ZWRTdHlsZXMgPSB7XG4gICAgICAgIC4uLnN0eWxlcy5zdG9yeUNvbnRlbnQsXG4gICAgICAgIC4uLihzdG9yeVN0eWxlcyB8fCB7fSlcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZUxvYWRlZCA9ICgpID0+IHtcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICBhY3Rpb24oJ3BsYXknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gPFdpdGhIZWFkZXIgc3Rvcnk9e3N0b3J5fSBnbG9iYWxIZWFkZXI9e2NvbmZpZy5oZWFkZXJ9PlxuICAgICAgICA8V2l0aFNlZU1vcmUgc3Rvcnk9e3N0b3J5fSBhY3Rpb249e2FjdGlvbn0+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxpbWcgc3R5bGU9e2NvbXB1dGVkU3R5bGVzfSBzcmM9e3N0b3J5LnVybH0gb25Mb2FkPXtpbWFnZUxvYWRlZH0gLz5cbiAgICAgICAgICAgICAgICB7IWxvYWRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsIDAsIDAsIDAuOSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjY2NjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkZXIgfHwgPGRpdiBjbGFzc05hbWU9e2dsb2JhbFN0eWxlLnNwaW5uZXJ9IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvV2l0aFNlZU1vcmU+XG4gICAgPC9XaXRoSGVhZGVyPlxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gICAgc3Rvcnk6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfSxcbiAgICBzdG9yeUNvbnRlbnQ6IHtcbiAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25kaXRpb246ICFzdG9yeS5jb250ZW50ICYmICghc3RvcnkudHlwZSB8fCBzdG9yeS50eXBlID09PSAnaW1hZ2UnKSxcbiAgICAgICAgcHJpb3JpdHk6IDJcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZW5kZXJlcixcbiAgICB0ZXN0ZXJcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl8xQ0s3RkhWd2hpT251Q2laSndpUHExIHtcXG5cXHR3aWR0aDogNDBweDtcXG5cXHRoZWlnaHQ6IDQwcHg7XFxuXFx0bWFyZ2luOiAxMDBweCBhdXRvO1xcblxcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuXFxuXFx0Ym9yZGVyLXJhZGl1czogMTAwJTtcXG5cXHQtd2Via2l0LWFuaW1hdGlvbjogXzFoRVEyVnpJa1RpWi05alpvTEkzSkMgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxuXFx0YW5pbWF0aW9uOiBfMWhFUTJWeklrVGlaLTlqWm9MSTNKQyAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDtcXG59XFxuXFxuQC13ZWJraXQta2V5ZnJhbWVzIF8xaEVRMlZ6SWtUaVotOWpab0xJM0pDIHtcXG5cXHQwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDApO1xcblxcdH1cXG5cXHQxMDAlIHtcXG5cXHRcXHQtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0b3BhY2l0eTogMDtcXG5cXHR9XFxufVxcblxcbkBrZXlmcmFtZXMgXzFoRVEyVnpJa1RpWi05alpvTEkzSkMge1xcblxcdDAlIHtcXG5cXHRcXHQtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMCk7XFxuXFx0XFx0dHJhbnNmb3JtOiBzY2FsZSgwKTtcXG5cXHR9XFxuXFx0MTAwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xcblxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0b3BhY2l0eTogMDtcXG5cXHR9XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJzcGlubmVyXCI6IFwiXzFDSzdGSFZ3aGlPbnVDaVpKd2lQcTFcIixcblx0XCJzay1zY2FsZW91dFwiOiBcIl8xaEVRMlZ6SWtUaVotOWpab0xJM0pDXCJcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBIZWFkZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuY29uc3QgSGVhZGVyID0gKHsgcHJvZmlsZUltYWdlLCBoZWFkaW5nLCBzdWJoZWFkaW5nIH06IEhlYWRlclByb3BzKSA9PlxuICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5tYWlufT5cbiAgICAgICAge3Byb2ZpbGVJbWFnZSAmJiA8aW1nIHN0eWxlPXtzdHlsZXMuaW1nfSBzcmM9e3Byb2ZpbGVJbWFnZX0gLz59XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMudGV4dH0+XG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRpbmd9PntoZWFkaW5nfTwvcD5cbiAgICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuc3ViaGVhZGluZ30+e3N1YmhlYWRpbmd9PC9wPlxuICAgICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBtYWluOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIGltZzoge1xuICAgICAgICB3aWR0aDogNDAsXG4gICAgICAgIGhlaWdodDogNDAsXG4gICAgICAgIGJvcmRlclJhZGl1czogNDAsXG4gICAgICAgIG1hcmdpblJpZ2h0OiAxMCxcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSknLFxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjkpKSdcbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgICAgZm9udFNpemU6ICcxcmVtJyxcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknLFxuICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMlxuICAgIH0sXG4gICAgc3ViaGVhZGluZzoge1xuICAgICAgICBmb250U2l6ZTogJzAuNnJlbScsXG4gICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJyxcbiAgICAgICAgbWFyZ2luOiAwXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXIiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xuaW1wb3J0IHsgR2xvYmFsQ3R4IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgU2VlTW9yZVByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWVNb3JlKHByb3BzOiBTZWVNb3JlUHJvcHMpIHtcbiAgICBjb25zdCBTZWVNb3JlQ29udGVudCA9IHByb3BzLnNlZU1vcmVDb250ZW50O1xuICAgIGNvbnN0IEN1c3RvbUNvbGxhcHNlZCA9IHByb3BzLmN1c3RvbUNvbGxhcHNlZDtcblxuICAgIGNvbnN0IHsga2V5Ym9hcmROYXZpZ2F0aW9uIH0gPSB1c2VDb250ZXh0PEdsb2JhbEN0eD4oR2xvYmFsQ29udGV4dCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBpc0NsaWVudCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICBpZiAoaXNDbGllbnQgJiYgKHR5cGVvZiBrZXlib2FyZE5hdmlnYXRpb24gPT09ICdib29sZWFuJyAmJiBrZXlib2FyZE5hdmlnYXRpb24pKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBba2V5Ym9hcmROYXZpZ2F0aW9uXSlcblxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKHRydWUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKGZhbHNlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgcHJvcHMuc2hvd0NvbnRlbnRcbiAgICAgICAgICAgID8gPGRpdiBzdHlsZT17c3R5bGVzLnNlZU1vcmVFeHBhbmRlZH0+XG4gICAgICAgICAgICAgICAgPFNlZU1vcmVDb250ZW50IGNsb3NlPXsoKSA9PiBwcm9wcy50b2dnbGVNb3JlKGZhbHNlKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgKEN1c3RvbUNvbGxhcHNlZCA/IDxDdXN0b21Db2xsYXBzZWQgYWN0aW9uPXtwcm9wcy5hY3Rpb259IHRvZ2dsZU1vcmU9e3Byb3BzLnRvZ2dsZU1vcmV9IC8+IDogPGRpdiBzdHlsZT17c3R5bGVzLnNlZU1vcmV9IG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcHJvcHMudG9nZ2xlTW9yZSh0cnVlKVxuICAgICAgICAgICAgfX0gPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuc2VlTW9yZUljb259PuKMgzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNlZU1vcmVUZXh0fT5TZWUgbW9yZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgIClcbn1cblxuY29uc3Qgc3R5bGVzOiBhbnkgPSB7XG4gICAgc2VlTW9yZToge1xuICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcImxpbmVhci1ncmFkaWVudChyZ2JhKDAsIDAsIDAsIDApLCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCIsXG4gICAgICAgIGJvdHRvbTogMFxuICAgIH0sXG4gICAgc2VlTW9yZUV4cGFuZGVkOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgekluZGV4OiA5OTk5OVxuICAgIH0sXG4gICAgc2VlTW9yZVRleHQ6IHtcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuMWVtXCIsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIyLjJ2aFwiLFxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcImNhcGl0YWxpemVcIixcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlLWluLW91dFwiXG4gICAgfSxcbiAgICBzZWVNb3JlSWNvbjoge1xuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4yZW1cIixcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNHZoXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMVwiLFxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAwIDVweCBibGFjaylcIixcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJjYXBpdGFsaXplXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlLWluLW91dFwiXG4gICAgfSxcbiAgICBzZWVNb3JlQ2xvc2U6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgM3B4IDJweCAjY2NjKVwiLFxuICAgICAgICByaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgdG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICBmb250U2l6ZTogXCIxLjVyZW1cIixcbiAgICAgICAgb3BhY2l0eTogXCIwLjdcIixcbiAgICAgICAgcGFkZGluZzogXCIxcmVtXCJcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgZ2xvYmFsU3R5bGUgZnJvbSAnLi8uLi9zdHlsZXMuY3NzJ1xuaW1wb3J0IFdpdGhIZWFkZXIgZnJvbSAnLi93cmFwcGVycy93aXRoSGVhZGVyJztcbmltcG9ydCBXaXRoU2VlTW9yZSBmcm9tICcuL3dyYXBwZXJzL3dpdGhTZWVNb3JlJztcblxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9ICh7IHN0b3J5LCBhY3Rpb24sIGlzUGF1c2VkLCBjb25maWcsIG1lc3NhZ2VIYW5kbGVyIH0pID0+IHtcbiAgICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFttdXRlZCwgc2V0TXV0ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBzdG9yeVN0eWxlcyB9ID0gY29uZmlnO1xuXG4gICAgbGV0IGNvbXB1dGVkU3R5bGVzID0ge1xuICAgICAgICAuLi5zdHlsZXMuc3RvcnlDb250ZW50LFxuICAgICAgICAuLi4oc3RvcnlTdHlsZXMgfHwge30pXG4gICAgfVxuXG4gICAgbGV0IHZpZCA9IFJlYWN0LnVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGFjdGlvbigncGF1c2UnLCB0cnVlKVxuICAgIH0sIFtdKVxuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHZpZC5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgICB2aWQuY3VycmVudC5wYXVzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aWQuY3VycmVudC5wbGF5KCkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtpc1BhdXNlZF0pO1xuXG4gICAgY29uc3Qgb25XYWl0aW5nID0gKCkgPT4ge1xuICAgICAgICBhY3Rpb24oXCJwYXVzZVwiLCB0cnVlKTtcbiAgICB9XG5cbiAgICBjb25zdCBvblBsYXlpbmcgPSAoKSA9PiB7XG4gICAgICAgIGFjdGlvbihcInBsYXlcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmlkZW9Mb2FkZWQgPSAoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2VIYW5kbGVyKCdVUERBVEVfVklERU9fRFVSQVRJT04nLCB7IGR1cmF0aW9uOiB2aWQuY3VycmVudC5kdXJhdGlvbiB9KTtcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICB2aWQuY3VycmVudC5wbGF5KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBhY3Rpb24oJ3BsYXknKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgc2V0TXV0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB2aWQuY3VycmVudC5wbGF5KCkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gPFdpdGhIZWFkZXIgc3Rvcnk9e3N0b3J5fSBnbG9iYWxIZWFkZXI9e2NvbmZpZy5oZWFkZXJ9PlxuICAgICAgICA8V2l0aFNlZU1vcmUgc3Rvcnk9e3N0b3J5fSBhY3Rpb249e2FjdGlvbn0+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMudmlkZW9Db250YWluZXJ9PlxuICAgICAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgICAgICByZWY9e3ZpZH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2NvbXB1dGVkU3R5bGVzfVxuICAgICAgICAgICAgICAgICAgICBzcmM9e3N0b3J5LnVybH1cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBvbkxvYWRlZERhdGE9e3ZpZGVvTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgICAgICAgICAgICBvbldhaXRpbmc9e29uV2FpdGluZ31cbiAgICAgICAgICAgICAgICAgICAgb25QbGF5aW5nPXtvblBsYXlpbmd9XG4gICAgICAgICAgICAgICAgICAgIG11dGVkPXttdXRlZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHshbG9hZGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInJnYmEoMCwgMCwgMCwgMC45KVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNjY2NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2xvYWRlciB8fCA8ZGl2IGNsYXNzTmFtZT17Z2xvYmFsU3R5bGUuc3Bpbm5lcn0gLz59XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9XaXRoU2VlTW9yZT5cbiAgICA8L1dpdGhIZWFkZXI+XG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBzdG9yeUNvbnRlbnQ6IHtcbiAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcbiAgICB9LFxuICAgIHZpZGVvQ29udGFpbmVyOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9IChzdG9yeSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbmRpdGlvbjogc3RvcnkudHlwZSA9PT0gJ3ZpZGVvJyxcbiAgICAgICAgcHJpb3JpdHk6IDJcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZW5kZXJlcixcbiAgICB0ZXN0ZXJcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcbmltcG9ydCBnbG9iYWxTdHlsZSBmcm9tICcuLy4uL3N0eWxlcy5jc3MnXG5pbXBvcnQgV2l0aEhlYWRlciBmcm9tICcuL3dyYXBwZXJzL3dpdGhIZWFkZXInO1xuaW1wb3J0IFdpdGhTZWVNb3JlIGZyb20gJy4vd3JhcHBlcnMvd2l0aFNlZU1vcmUnO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHsgc3RvcnksIGFjdGlvbiB9KSA9PiB7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XG4gICAgfSwgW3N0b3J5XSlcblxuICAgIHJldHVybiA8ZGl2IHN0eWxlPXtzdHlsZXMuc3RvcnlDb250ZW50fT5cbiAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy50ZXh0fT5UaGlzIHN0b3J5IGNvdWxkIG5vdCBiZSBsb2FkZWQuPC9wPlxuICAgIDwvZGl2PlxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gICAgc3RvcnlDb250ZW50OiB7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgbWFyZ2luOiBcImF1dG9cIlxuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgd2lkdGg6ICc5MCUnLFxuICAgICAgICBtYXJnaW46ICdhdXRvJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25kaXRpb246IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiAxXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlbmRlcmVyLFxuICAgIHRlc3RlclxufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlbmRlcmVyLCBUZXN0ZXIgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHByb3BzKSA9PiB7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcHJvcHMuYWN0aW9uKCdwbGF5Jyk7XG4gICAgfSwgW3Byb3BzLnN0b3J5XSlcbiAgICBjb25zdCBDb250ZW50ID0gcHJvcHMuc3Rvcnkub3JpZ2luYWxDb250ZW50O1xuICAgIHJldHVybiA8Q29udGVudCB7Li4ucHJvcHN9IC8+XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9IChzdG9yeSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbmRpdGlvbjogISFzdG9yeS5jb250ZW50LFxuICAgICAgICBwcmlvcml0eTogMlxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlbmRlcmVyLFxuICAgIHRlc3RlclxufSJdLCJzb3VyY2VSb290IjoiIn0=